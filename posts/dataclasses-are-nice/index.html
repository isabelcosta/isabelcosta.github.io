<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Isabel's website"><link rel="shortcut icon" href=https://isabelcosta.github.io/favicon.ico><link rel=stylesheet href=/css/style.min.css><title>Dataclasses in Python are nice!</title></head><body><header id=banner><h2><a href=https://isabelcosta.github.io/>Isabel Costa</a></h2><nav><ul><li><a href=/about/ title=about>about</a></li><li><a href=/posts/ title=posts>posts</a></li><li><a href=/talks/ title=talks>talks</a></li></ul></nav></header><main id=content><article><header id=post-header><h1>Dataclasses in Python are nice!</h1><div><time>March 13, 2021</time></div></header><p>Couple weeks ago I learned about <a href=https://docs.python.org/3/library/dataclasses.html><code>dataclasses</code></a> feature in Python. This feature is a nice way to define classes in python. This was introduced in <a href=https://docs.python.org/3.7/whatsnew/3.7.html>Python 3.7</a>, in particular <a href=https://www.python.org/dev/peps/pep-0557/>PEP 557</a>. To use this feature make sure you are running python version 3.7 or above.</p><p>Previously, I knew about defining new classes in python using the <code>self.__init__()</code> function. Here&rsquo;s an example of me defining a class <code>Youtuber</code>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Youtuber</span>:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> __init__(self, name: str, categories: list[str]):
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>name <span style=color:#f92672>=</span> name
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>categories <span style=color:#f92672>=</span> categories
</span></span></code></pre></div><p>Now we can use less boilerplate code to define classes. There is no need to install a separate python library, this will come with python standard library (as long as it is > 3.7).</p><p>Here&rsquo;s how you can define these now:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>from</span> dataclasses <span style=color:#f92672>import</span> dataclass
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#a6e22e>@dataclass</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Youtuber</span>:
</span></span><span style=display:flex><span>   <span style=color:#e6db74>&#34;&#34;&#34;Class for defining youtubers.&#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>   name: str
</span></span><span style=display:flex><span>   categories: list[str]
</span></span></code></pre></div><p>In this example above, I am importing it first <code>from dataclasses import dataclass</code> and then defining it. I created a class definition and used <code>@dataclass</code> annotation to tell python how it should interpret this class definition.</p><p>Then I can create this in python, as I would do it anyway, regardless of using <code>@dataclass</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>Youtuber(<span style=color:#e6db74>&#34;Chris Stuckmann&#34;</span>, [<span style=color:#e6db74>&#34;movie-reviews&#34;</span>])
</span></span></code></pre></div><p>Here&rsquo;s how you can try this out, using 3 of my favorite youtube channels :)</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>youtubers <span style=color:#f92672>=</span> []
</span></span><span style=display:flex><span>youtubers<span style=color:#f92672>.</span>append(Youtuber(<span style=color:#e6db74>&#34;Chris Stuckmann&#34;</span>, [<span style=color:#e6db74>&#34;movie-reviews&#34;</span>]))
</span></span><span style=display:flex><span>youtubers<span style=color:#f92672>.</span>append(Youtuber(<span style=color:#e6db74>&#34;Double Toasted&#34;</span>, [<span style=color:#e6db74>&#34;movie-reviews&#34;</span>]))
</span></span><span style=display:flex><span>youtubers<span style=color:#f92672>.</span>append(Youtuber(<span style=color:#e6db74>&#34;The Fitness Marshall&#34;</span>, [<span style=color:#e6db74>&#34;fitness&#34;</span>]))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> youtuber <span style=color:#f92672>in</span> youtubers:
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>{</span>youtuber<span style=color:#f92672>.</span>name<span style=color:#e6db74>}</span><span style=color:#e6db74>&#39;s categories are: </span><span style=color:#e6db74>{</span>youtuber<span style=color:#f92672>.</span>categories<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span></code></pre></div><p>Let&rsquo;s put this all together in a file called <code>youtubers.py</code> and run it! You can copy it from this <a href=https://gist.github.com/isabelcosta/c14c4c9a4a098a17807e5bda2df92ac3>GitHub gist I created</a>. You should get this output:</p><pre tabindex=0><code>$ python youtubers.py  
Chris Stuckmann&#39;s categories are: [&#39;movie-reviews&#39;]
Double Toasted&#39;s categories are: [&#39;movie-reviews&#39;]
The Fitness Marshall&#39;s categories are: [&#39;fitness&#39;]
</code></pre></article></main><footer id=footer>Copyright Â© 2022 Isabel Costa</footer></body></html>