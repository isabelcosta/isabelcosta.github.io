<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Isabel Costa is a software engineer from Portugal, who really likes Open Source, Freecell, Clash of Clans, and much more."><link rel="shortcut icon" href=https://isabelcosta.github.io/favicon.ico><link rel=stylesheet href=/css/style.min.css><title>Sync fork with the original repository using git</title></head><body><header id=banner><h2><a href=https://isabelcosta.github.io/>Isabel Costa</a></h2><nav><ul><li><a href=/about/ title=about>about</a></li><li><a href=/posts/ title=posts>posts</a></li><li><a href=/talks/ title=talks>talks</a></li></ul></nav></header><main id=content><article><header id=post-header><h1>Sync fork with the original repository using git</h1><div><time>September 4, 2021</time></div></header><p>When you want to contribute to an open source repository, you usually <a href=https://docs.github.com/en/get-started/quickstart/fork-a-repo>fork a repository</a> so you can do your changes and later submit them via a pull request. After forking the repository on GitHub, and cloning it into your local environment - <code>git clone &lt;forked repository url></code> - the repository will have a remote URL setup, usually named <code>origin</code>.</p><p>You can also do this using GitHub web user interface. Check <a href=https://docs.github.com/en/github/collaborating-with-pull-requests/working-with-forks/syncing-a-fork>out the docs</a>! I already mostly use this option, but it’s always useful to know the basics of doing this with git.</p><p>To use as an example, I forked <a href=https://github.com/anitab-org/documentation>anitab-org/documentation</a> repository into my GitHub account <a href=https://github.com/isabelcosta/documentation>isabelcosta/documentation</a>. When <strong>cloning the repository I <a href=https://docs.github.com/en/get-started/getting-started-with-git/about-remote-repositories#about-remote-repositories>used the SSH URL</a> of my forked repository.</strong> The commands I’ll mention will be running against the repository’s default <code>master</code> branch.</p><p>First, <strong>check what remote URLs your project has set up</strong> with:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git remote -v
</span></span></code></pre></div><p>Here the <code>origin</code> configuration will have the URL where your forked project is on GitHub (notice that my <code>isabelcosta</code> account username is there). I am also inside the root directory of the local clone of my forked repository.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>~/dev/documentation &gt; git remote -v
</span></span><span style=display:flex><span>origin	git@github.com:isabelcosta/documentation.git <span style=color:#f92672>(</span>fetch<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>origin	git@github.com:isabelcosta/documentation.git <span style=color:#f92672>(</span>push<span style=color:#f92672>)</span>
</span></span></code></pre></div><p>Now you can <strong>add the new remote repository link to your remotes</strong>. The <code>upstream</code> keyword is an alias for the original repository remote URL (replace <code>&lt;url of original repository></code> with this URL). You can pick another alias if you prefer.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git remote add upstream &lt;url of original repository&gt;
</span></span></code></pre></div><p>Notice that in this case, the link is pointing to <code>anitab-org</code> account - where the repository was originally forked from):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>~/dev/documentation &gt; git remote add upstream git@github.com:anitab-org/documentation.git
</span></span></code></pre></div><p>To <strong>confirm the remote repositories you have set up</strong>, the new <code>upstream</code> repository configuration should be there.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>~/dev/documentation &gt; git remote -v
</span></span><span style=display:flex><span>origin	git@github.com:isabelcosta/documentation.git <span style=color:#f92672>(</span>fetch<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>origin	git@github.com:isabelcosta/documentation.git <span style=color:#f92672>(</span>push<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>upstream	git@github.com:anitab-org/documentation.git <span style=color:#f92672>(</span>fetch<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>upstream	git@github.com:anitab-org/documentation.git <span style=color:#f92672>(</span>push<span style=color:#f92672>)</span>
</span></span></code></pre></div><p>With this setup, you can now <strong>sync your repository locally</strong> using pull/fetch code from the original repository. Here’s an example where I am pulling code from the original repository into my fork’s <code>master</code> branch:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>~/dev/documentation &gt; git pull upstream master
</span></span><span style=display:flex><span>From github.com:anitab-org/documentation
</span></span><span style=display:flex><span> * branch            master     -&gt; FETCH_HEAD
</span></span><span style=display:flex><span>   85f3fdc..5854a22  master     -&gt; upstream/master
</span></span><span style=display:flex><span>Already up to date.
</span></span></code></pre></div><p>After updating my local branch, I usually also <strong>update the fork on GitHub.</strong> I push the new commits pulled from <code>upstream</code> to my <code>origin</code> forked repository (using the same <code>master</code> branch):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>~/dev/documentation &gt; git push origin master
</span></span><span style=display:flex><span>Everything up-to-date
</span></span></code></pre></div><h2 id=commands-summary>Commands summary</h2><ul><li>Check remotes: <code>git remote -v</code></li><li>Add a new remote: <code>git remote add upstream &lt;original repository url></code></li><li>Sync local repository: <code>git pull upstream &lt;branch></code></li><li>Update remote forked repo: <code>git push origin &lt;branch></code></li></ul></article></main><footer id=footer>Copyright © 2022 Isabel Costa</footer></body></html>